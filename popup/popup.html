<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Juchan Translator</title>
  <link rel="stylesheet" href="popup.css">
</head>

<body>
  <div class="popup-container">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <span class="logo-icon">üå∏</span>
        <h1>Juchan</h1>
      </div>
      <div class="status-indicator" id="statusIndicator">
        <span class="status-dot"></span>
        <span class="status-text">S·∫µn s√†ng</span>
      </div>
    </header>

    <!-- Tab Navigation -->
    <div class="tabs">
      <button class="tab-btn active" data-tab="tab-translate">D·ªãch</button>
      <button class="tab-btn" data-tab="tab-settings">C·∫•u h√¨nh</button>
    </div>

    <!-- Main Controls -->
    <main class="main-content">

      <!-- TAB 1: Translation Controls -->
      <div id="tab-translate" class="tab-content active">
        <!-- Translation Toggle -->
        <section class="control-section">
          <div class="toggle-group">
            <label class="toggle-label">
              <span class="label-text">D·ªãch trang web</span>
              <div class="toggle-switch">
                <input type="checkbox" id="togglePageTranslate" checked>
                <span class="slider"></span>
              </div>
            </label>
          </div>

          <div class="toggle-group">
            <label class="toggle-label">
              <span class="label-text">D·ªãch ·∫£nh (Manga/Comic)</span>
              <div class="toggle-switch">
                <input type="checkbox" id="toggleImageTranslate">
                <span class="slider"></span>
              </div>
            </label>
          </div>

          <div class="toggle-group">
            <label class="toggle-label">
              <span class="label-text">Lazy Translate (cu·ªôn chu·ªôt)</span>
              <div class="toggle-switch">
                <input type="checkbox" id="toggleLazyTranslate" checked>
                <span class="slider"></span>
              </div>
            </label>
          </div>
        </section>
      </div>

      <!-- TAB 2: API Configuration -->
      <div id="tab-settings" class="tab-content">
        <section class="control-section api-section" style="border: none; padding: 0;">
          <div class="api-config" id="apiConfig" style="display: block; padding-top: 10px;">
            <div class="form-row">
              <label for="apiType">Lo·∫°i API</label>
              <select id="apiType">
                <option value="ollama">Ollama (Local)</option>
                <option value="mymemory">MyMemory (Free)</option>
                <option value="openai">OpenAI</option>
                <option value="gemini">Google Gemini</option>
                <option value="anthropic">Anthropic Claude</option>
                <option value="groq">Groq</option>
                <option value="custom">Custom API</option>
              </select>
            </div>
            <div class="form-row">
              <label for="apiEndpoint">API Endpoint</label>
              <input type="url" id="apiEndpoint" placeholder="http://localhost:11434/api/generate">
            </div>
            <div class="form-row">
              <label for="apiModel">Model</label>
              <input type="text" id="apiModel" placeholder="llama2">
            </div>
            <div class="form-row">
              <label for="apiKey">API Key</label>
              <div class="input-with-toggle">
                <input type="password" id="apiKey" placeholder="sk-... ho·∫∑c ƒë·ªÉ tr·ªëng n·∫øu local">
                <button class="btn-toggle-visibility" id="btnToggleKey" title="Hi·ªán/·∫®n">üëÅÔ∏è</button>
              </div>
            </div>
            <div class="form-row api-status">
              <button class="btn btn-small btn-test" id="btnTestApi">üîç Test K·∫øt N·ªëi</button>
              <span class="api-status-text" id="apiStatusText"></span>
            </div>
          </div>
        </section>
      </div>

      <!-- Language Selection -->
      <section class="control-section">
        <h2 class="section-title">Ng√¥n ng·ªØ</h2>
        <div class="language-selector">
          <div class="lang-box">
            <label for="sourceLang">Ngu·ªìn</label>
            <select id="sourceLang">
              <option value="auto">T·ª± ƒë·ªông</option>
              <option value="en">English</option>
              <option value="ja">Êó•Êú¨Ë™û</option>
              <option value="ko">ÌïúÍµ≠Ïñ¥</option>
              <option value="zh">‰∏≠Êñá</option>
              <option value="vi">Ti·∫øng Vi·ªát</option>
            </select>
          </div>
          <div class="lang-arrow">‚Üí</div>
          <div class="lang-box">
            <label for="targetLang">ƒê√≠ch</label>
            <select id="targetLang">
              <option value="vi" selected>Ti·∫øng Vi·ªát</option>
              <option value="en">English</option>
              <option value="ja">Êó•Êú¨Ë™û</option>
              <option value="ko">ÌïúÍµ≠Ïñ¥</option>
              <option value="zh">‰∏≠Êñá</option>
            </select>
          </div>
        </div>
      </section>

      <!-- Quick Actions -->
      <section class="control-section">
        <h2 class="section-title">Thao t√°c nhanh</h2>
        <div class="action-buttons">
          <button class="btn btn-primary" id="btnTranslateNow">
            <span class="btn-icon">üîÑ</span>
            D·ªãch ngay
          </button>
          <button class="btn btn-secondary" id="btnRestore">
            <span class="btn-icon">‚Ü©Ô∏è</span>
            Kh√¥i ph·ª•c
          </button>
        </div>
      </section>

      <!-- Stats -->
      <section class="stats-section">
        <div class="stat-item">
          <span class="stat-value" id="statTexts">0</span>
          <span class="stat-label">ƒêo·∫°n vƒÉn</span>
        </div>
        <div class="stat-item">
          <span class="stat-value" id="statImages">0</span>
          <span class="stat-label">·∫¢nh</span>
        </div>
        <div class="stat-item">
          <span class="stat-value" id="statTime">0s</span>
          <span class="stat-label">Th·ªùi gian</span>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <button class="btn-icon-only" id="btnSettings" title="C√†i ƒë·∫∑t">‚öôÔ∏è</button>
      <span class="version">v1.0.0</span>
      <button class="btn-icon-only" id="btnHelp" title="Tr·ª£ gi√∫p">‚ùì</button>
    </footer>
  </div>

  <script src="popup.js" type="module"></script>
</body>

</html>